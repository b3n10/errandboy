"use strict";var cb_nighttime=document.getElementById("cb_nighttime"),cb_holiday=document.getElementById("cb_holiday"),tx_distance=document.getElementById("tx_distance"),tx_stop=document.getElementById("tx_stop"),result=document.getElementsByClassName("result")[0],bt_stopplus=document.getElementById("bt_stopplus"),bt_stopminus=document.getElementById("bt_stopminus"),bt_copy=document.getElementById("bt_copy"),bt_reset=document.getElementById("bt_reset"),bt_intro=document.getElementById("bt_intro"),bt_food=document.getElementById("bt_food"),bt_pickup=document.getElementById("bt_pickup"),bt_bills=document.getElementById("bt_bills"),bt_grocery=document.getElementById("bt_grocery"),bt_addstore=document.getElementById("bt_addstore"),bt_waiting=document.getElementById("bt_waiting"),bt_mabalacat=document.getElementById("bt_mabalacat"),day_fee="55.0",day_remfee="15",night_fee="65.0",night_remfee="20",errand_fee=day_fee,rem_fee=day_remfee,stop_fee=20,stops=Number(tx_stop.value),preview="",fields=[{label:"First 3km:",value:day_fee},{label:"Remaining KM:",value:0},{label:"Errand Fee:",value:errand_fee}],nighttime=function(){rem_fee=event.currentTarget.checked?(fields.filter(function(e){return e.label.includes("First")})[0].value=errand_fee=night_fee,night_remfee):(fields.filter(function(e){return e.label.includes("First")})[0].value=errand_fee=day_fee,day_remfee),calculate()},holiday=function(){event.currentTarget.checked?fields.splice(3,0,{label:"Holiday Surcharge (50%):",value:0}):(fields=fields.filter(function(e){return!e.label.includes("Holiday")})).filter(function(e){return e.label.includes("Stop")}).length||(fields=fields.filter(function(e){return!e.label.includes("Total")})),calculate()},stopover=function(){event.currentTarget===bt_stopplus?tx_stop.value=stops+=1:0<stops&&(tx_stop.value=--stops),fields.filter(function(e){return e.label.includes("Stop")}).length||fields.splice(4,0,{label:"Stop Over:",value:0}),fields.filter(function(e){return e.label.includes("Total")}).length||fields.push({label:"Total Delivery Cost:",value:0}),0===stops&&((fields=fields.filter(function(e){return!e.label.includes("Stop")})).filter(function(e){return e.label.includes("Holiday")}).length||(fields=fields.filter(function(e){return!e.label.includes("Total")}))),calculate()},generate_fields=function(){for(;result.firstChild;)result.removeChild(result.firstChild);fields.forEach(function(e){var t=document.createElement("div"),n=document.createElement("label"),l=document.createElement("label");n.innerHTML=e.label,l.innerHTML=e.value,t.className="estimates",t.append(n),t.append(l),result.append(t)}),tx_distance.focus()},calculate=function(){var e,t=Number(tx_distance.value),n=0,l=0,i=fields.filter(function(e){return e.label.includes("First")})[0],a=fields.filter(function(e){return e.label.includes("Remaining")})[0],r=fields.filter(function(e){return e.label.includes("Errand")})[0],o=fields.filter(function(e){return e.label.includes("Stop")})[0],c=fields.filter(function(e){return e.label.includes("Holiday")})[0],d="";3<t?(n=Number(i.value),a.label="Remaining KM (".concat((t-3).toFixed(1),"x").concat(rem_fee,"):"),l=parseFloat((t-3)*Number(rem_fee)).toFixed(1),a.value=l,e=(Number(n)+Number(l)).toFixed(1),r.value=e):(a.label="Remaining KM:",a.value=0,r.value=errand_fee),fields.filter(function(e){return e.label.includes("Total")}).length||!o&&!c||fields.push({label:"Total Delivery Cost:",value:0}),o&&(o.value=(stops*stop_fee).toFixed(1)),c&&(c.value=(.5*Number(e||errand_fee).toFixed(1)).toFixed(2));var u=o?o.value:0,s=c?c.value:0,f=e||errand_fee;(d=fields.filter(function(e){return e.label.includes("Total")})).length&&(d[0].value=(Number(u)+Number(s)+Number(f)).toFixed(2)),generate_fields()},fees=function(){preview="".concat(tx_distance.value<=3||0===tx_distance.length?"within 3km":tx_distance.value+"km"," distance\n\n"),fields.forEach(function(e){return preview+="".concat(e.label," ").concat(e.value,"\n")}),copyText()},copyText=function(){var e=document.createElement("textarea");document.getElementsByTagName("body")[0].append(e),e.value=preview,e.select(),document.execCommand("copy"),e.remove()},reset=function(){tx_stop.value=stops=0,fields=fields.filter(function(e){return!e.label.includes("Stop")&&!e.label.includes("Total")}),calculate(),tx_distance.value="",tx_distance.focus()},intro=function(){preview="We can assist you with any of the following:\n✔️ Food Delivery (any restaurant within Angeles City, Clark and Mabalacat)\n✔️ Item delivery\n✔️ Grocery (Purchase and Deliver)\n✔️ Mall (Purchase and Deliver)\n✔️ Pick up and Deliver\n✔️ Meet up and Deliver\n✔️ Bills / Payments\n✔️ Other General Errands\n\n*Note: We only charge for the delivery fee. No additional charges for the actual item/order.",copyText()},food=function(){preview="For Food Delivery —-\n\nCustomer Name:\nContact #:\nRestaurant/Food Store Name and Branch(location):\n\nOrder Details (pls provide an alternative if first option is not available):\n\nSpecial Request from Restaurant/Food Store:\n\nDelivery Address and nearest landmark:\n\n***Please expect wait time on food preparation or queue.",copyText()},pickup=function(){preview="Pick up & Delivery —-\n\nCustomer Name:\nCustomer Contact #:\nDelivery Address and nearest landmark:\n\nPickup/Meetup Location/Address:\n\nItems for Pickup and Approximate Weight (maximum 5kg):\n\nName of Person and Contact # on Pickup/Meetup location:",copyText()},bills=function(){preview="Bills/Payments—-\n\nBiller Name/Company:\nAccount Holder Name:\nAccount Number:\nExact amount due for Payment:\n\n***After payment, we will send you a picture of the receipt as a proof. If you prefer to get the physical copy of the receipt, additional fee on delivery (per km delivery rate applies).\n\nPer bill processed is 55PHP",copyText()},grocery=function(){preview="Grocery Errand\n- 55PHP for 5 to 7 items (or depends on the weight), more than that will be charged a minimal amount (depending on the items to be added).\n\n- Delivery rate is 55PHP for the first 3km. Succeeding per km is 15PHP. 😊\n\n- Maximum of 10kg in weight\n\n- Note: Total Errand fee is computed by—-\nGrocery Errand Fee + Delivery Fee",copyText()},addstore=function(){preview="There will be 20PHP per additional store on same errand.",copyText()},waiting=function(){preview="Reminder:\nAdditional 20PHP will be added for more than 15mins waiting time on food preparation.",copyText()},mabalacat=function(){preview="For Mabalacat area, our base rate starts from Dau Terminal.",copyText()};cb_nighttime.onclick=nighttime,cb_holiday.onclick=holiday,bt_stopminus.onclick=stopover,bt_stopplus.onclick=stopover,tx_distance.addEventListener("input",calculate),bt_copy.onclick=fees,bt_reset.onclick=reset,bt_intro.onclick=intro,bt_food.onclick=food,bt_pickup.onclick=pickup,bt_bills.onclick=bills,bt_grocery.onclick=grocery,bt_addstore.onclick=addstore,bt_waiting.onclick=waiting,bt_mabalacat.onclick=mabalacat,window.onload=function(){return generate_fields()};